# Чат для интернет-магазина - Фронтенд

Это фронтенд-часть чата для интернет-магазина, которая взаимодействует с бэкендом через REST API и WebSocket.

## Структура проекта

```
public/
├── css/
│   └── style.css          # Основные стили приложения
├── js/
│   ├── api.js             # Функции для работы с API и WebSocket
│   ├── chat.js            # Основная логика чата
│   └── config.js          # Конфигурационные параметры
├── images/
│   ├── default-avatar.svg # Заглушка для аватара пользователя
│   └── default-product.svg# Заглушка для изображения товара
└── index.html             # Основной HTML-файл приложения
```

## Особенности

- Обмен сообщениями в реальном времени через WebSocket
- Отображение статусов онлайн/оффлайн пользователей
- Автоматическая загрузка списка чатов и истории сообщений
- Адаптивный дизайн для мобильных устройств и десктопов
- Отображение информации о товаре и продавце

## Использование

### Запуск

1. Запустите бэкенд:
   ```
   go run main.go
   ```

2. Откройте в браузере URL:
   ```
   http://localhost:8080
   ```

### Настройка

Для тестирования или изменения настроек фронтенда откройте файл `js/config.js`.

Важные параметры:
- `CURRENT_USER_ID` - ID пользователя, от имени которого запускается чат
- `STATUS_INTERVAL` - интервал обновления статуса в миллисекундах
- `DEBUG` - режим отладки (true/false)

## Интеграция с бэкендом

Фронтенд взаимодействует с бэкендом через следующие API:

1. `GET /api/chats?userId={id}` - получение списка чатов
2. `GET /api/messages?userId={id}&chatWith={id}` - получение истории сообщений
3. `POST /api/status` - обновление статуса пользователя
4. `WebSocket /ws/{userId}` - подключение к WebSocket для обмена сообщениями

## Автоматическое создание заглушек

Если отсутствуют изображения пользователей или товаров, приложение автоматически создает SVG-заглушки. 